extends ../../layouts/default.pug
include ../../mixins/alert.pug
block main 
   if(role.permission.includes("roles_permissions"))
      +alert-success(5000)
      +alert-error(3000)
      h1(class="mb-6 text-3xl font-semibold text-gray-900")
         i(class="fas fa-cogs mr-2")
         | Phân quyền
      if(records)
         div(data-records=records)

      div(class="text-right")
         button(
            type ="submit"
            button-submit
            class="btn btn-primary mb-3"
         ) Cập nhật
      
      table(
         class="table table-hover table-sm"
         table-permissions
      )
         thead
            tr
               th Tính năng
               each item in records
                     th(class="text-center") #{item.title}
         tbody
            tr(data-name="id" class="d-none")
               td
               each item in records
                     td(class="text-center")
                        input(type="text" value=item.id)

            // danh mục sản phẩm
            tr 
               td(colspan="4")
                  b Danh mục sản phẩm 
            tr(data-name="products-category_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="products-category_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            tr(data-name="products-category_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="products-category_delete")
               td Xóa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            // Sản phẩm
            tr 
               td(colspan="4")
                  b Sản phẩm 
            tr(data-name="products_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="products_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            tr(data-name="products_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="products_delete")
               td Xóa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr 
               td(colspan="4")
                  b Nhóm Chat Admin
            tr(data-name="room_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            // danh mục bài viết
            tr 
               td(colspan="4")
                  b Danh mục bài viết
            tr(data-name="blog-category_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="blog-category_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            tr(data-name="blog-category_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="blog-category_delete")
               td Xóa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            // Bài viết
            tr 
               td(colspan="4")
                  b Bài viết
            tr(data-name="blogs_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="blogs_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="blogs_confirm")
               td Xác nhận
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="blogs_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="blogs_delete")
               td Xóa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            // Mã giảm giá
            tr 
               td(colspan="4")
                  b Mã giảm giá
            tr(data-name="discounts_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="discounts_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="discounts_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="discounts_delete")
               td Xóa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            // Đơn hàng
            tr 
               td(colspan="4")
                  b Đơn hàng
            tr(data-name="order_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="order_edit")
               td Cập nhập
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            // Nhóm quyền
            tr 
               td(colspan="4")
                  b Nhóm quyền
            tr(data-name="roles_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="roles_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            tr(data-name="roles_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            //- tr(data-name="roles_delete")
            //-    td Xóa
            //-    each item in records
            //-       td(class="text-center")
            //-          input(type="checkbox")
            tr(data-name="roles_permissions")
               td Phân quyền
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            // Danh sách tài khoản
            tr 
               td(colspan="4")
                  b Tài Khoản
            tr(data-name="accounts_view")
               td Xem
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

            tr(data-name="accounts_create")
               td Thêm mới
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            
            tr(data-name="accounts_edit")
               td Chỉnh sửa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")
            tr(data-name="accounts_delete")
               td Xóa
               each item in records
                  td(class="text-center")
                     input(type="checkbox")

      form(
         id= "form-change-permissions"
         method="POST"
         action =`${prefixAdmin}/roles/permissions?_method=PATCH`
         class="d-none"
      )
         div(class="form-group")
         input(
         type="text"
         class="form-control"
         name="permissions"
         )
      script(src="/admin/js/roles.js") 
